{% extends "blogs/base.html" %}

{% block content %}
<p>Posts</p>

<ul>
    {% for post in posts %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2>
          <a href="{% url 'blogs:post' post.id %}">{{ post.title }}</a>
        </h2>
        <p>by {{ post.owner }}</p>
      </div>
      <div class="panel-body">
        {% if post.text|length > 100 %}
          {{post.text|slice:":25"}}...<a href="{% url 'blogs:post' post.id %}">Read More</a>
          <br>
          Date added: {{ post.date_added }}
        {% else %}
          {{post.text}}
          <br>
          Date added: {{ post.date_added }}
        {% endif %}
        <br>
        {% if user == post.owner %}
        <a href="{% url 'blogs:edit_post' post.id %}">Edit Post</a>
        {% endif %}
      </div>
    </div> <!-- panel -->

  {% empty %}
    There are no entries yet.
  {% endfor %}
</ul>

{% endblock content %}